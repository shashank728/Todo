{% extends "base.html" %}
{% load static %}

{% block title %}
todo list
{% endblock  %}


{% block link %}
<link rel="stylesheet" href="{% static 'css/todo.css' %}">
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

{% endblock  %}

{% block body %}


<table class="table">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Task</th>
        <th scope="col">Date</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>

        {% for todo in todos  %}
        <tr>
            <th scope="row">{{ forloop.counter }}</th>
            <td>{{ todo.task }}</td>
            <td>{{ todo.created_at }}</td>
            <td>
                <a href="{% url 'complete' todo.id %}" class="btn btn-success">Complete</a>
                <a href="{% url 'update' todo.id %}" class="btn btn-success">update</a>
                <a href="{% url 'delete' todo.id %}" class="btn btn-primary">Delete</a>

            </td>
            
        </tr>
        {% endfor %}
    
    </tbody>
  </table>

  <div class="container-fluid gx-5 mt-5 mb-5 d-flex justify-content-center ">
      <div class="row ">

        <a href="{% url 'addtodo' %}" class="  btn btn-outline-primary">add items</a>


      </div>
  </div>


<h3 class=" text-center m-4 ">Completed Task</h3>

<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Task</th>
      <th scope="col">Date</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>

      {% for todo in completed_todos  %}
      <tr>
          <th scope="row">{{ forloop.counter }}</th>
          <td>{{ todo.task }}</td>
          <td>{{ todo.created_at }}</td>
          <td>
            <a href="{% url 'delete' todo.id %}" class="btn btn-danger">Delete Permanent</a>
          </td>

      </tr>
      {% endfor %}
    
    
  </tbody>
</table>

{% endblock  %}